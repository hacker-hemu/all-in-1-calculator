<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Comprehensive Financial Calculator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/css/financial-style.css">

  <!-- font awesome cdn file -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
    integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>

<body>

  <!-- Header -->
  <header class="bg-dark text-white sticky-top">
    <div class="container p-0- m-0">
      <nav class="navbar navbar-expand-lg navbar-dark">
        <a class="navbar-brand" href="#">
          <img src="images/logo.png" alt="Logo" class="logo profile rounded" height="50px">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto">
            <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="categoryDropdown" role="button"
                data-bs-toggle="dropdown">Category</a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/scientific">Scientific Calculator</a></li>
                <li><a class="dropdown-item" href="/financial">Financial Calculators</a></li>
                <li><a class="dropdown-item" href="/health">Health and Fitness Calculators</a></li>
                <li><a class="dropdown-item" href="/conversion">Conversion Calculators</a></li>
                <li><a class="dropdown-item" href="/algebra">Math and Algebra Calculators</a></li>
                <li><a class="dropdown-item" href="/geometry">Geometry Calculators</a></li>
              </ul>
            </li>
            <li class="dropdown-item" id="login-buttons"><a class="nav-link" href="#" data-bs-toggle="modal"
                data-bs-target="#loginModal">Login</a></li>
            <li class="dropdown-item" id="signup-buttons"><a class="nav-link" href="#" data-bs-toggle="modal"
                data-bs-target="#signupModal">Signup</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-bs-toggle="modal"
                data-bs-target="#contactModal">Contact</a></li>
          </ul>
          <form class="me-3 position-relative">
            <input type="text" id="searchBar" class="form-control" placeholder="Search for a calculator..."
              onkeyup="searchCalculators()">
            <ul id="calculatorList" class="dropdown-menu w-100 mt-1 overflow-hidden">
              <!-- Calculator names dynamically filtered here with anchor tags -->
              <li class="dropdown-item calculator-item"><a href="/scientific">Scientific Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/financial">Simple Interest
                  Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/financial">Compound Interest
                  Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/financial">Currency Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/financial">Salary Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/financial">Retirement Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/financial">Sales and Tax Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/financial">Investment Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/health">BMI Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/health">BMR Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/health">Calorie Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/health">Body Fat Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/health">Ideal Weight Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/conversion">Length Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/conversion">Age Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/conversion">Hour to Minute & Seconds
                  Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/conversion">Date Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/conversion">GPA Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/conversion">Height Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/conversion">Password Generator</a></li>
              <li class="dropdown-item calculator-item"><a href="/conversion">Bill and Tip Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/geometry">2D Distance Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/geometry">3D Distance Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Equilateral Triangle
                  Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Isosceles Triangle
                  Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Right-Angled Triangle
                  Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Cube Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Cone Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Circle Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Cylinder Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Rectangle Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Square Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/geometry">Sphere Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Complex Number Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Boolean Algebra Simplifier</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Partial Fraction Decomposer</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Inequality Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Flow Rate Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Impulse Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Factorization Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Percentage Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Exponential Formulas
                  Calculator</a></li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Cube of a Number Calculator</a>
              </li>
              <li class="dropdown-item calculator-item"><a href="/algebra">Cube Root Calculator</a></li>
            </ul>
          </form>
          <div class="flex-shrink-0 dropdown" id="profiles-div">
            <a href="#" class="d-block link-dark text-decoration-none dropdown-toggle" id="dropdownUser2"
              data-bs-toggle="dropdown" aria-expanded="false">
              <img src="images/user.png" alt="mdo" width="32" height="32" class="rounded-circle border">
            </a>
            <ul class="dropdown-menu text-small shadow" aria-labelledby="dropdownUser2">
              <li class="dropdown-item d-none" id="username"></li>
              <li class="dropdown-item d-none" id="logout-button"><a class="nav-link text-danger"
                  href="/logout">Logout</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <div class="ccontainer">
    <h1>Comprehensive Financial Calculator</h1>
    <input type="text" id="search-item" placeholder="Search calculators..." onkeyup="search()">

    <!-- Simple Interest Calculator -->
    <section id="simple-interest">
      <h2>Simple Interest Calculator</h2>
      <form id="simpleInterestForm">
        <label>Principal: <input type="number" id="siPrincipal" required></label>
        <label>Rate (%): <input type="number" id="siRate" required></label>
        <label>Time (years): <input type="number" id="siTime" required></label>
        <!-- New buttons for Save, Print, Share -->
        <div class="row mt-2 d-flex align-items-center justify-content-center mt-4 justify-content-center mt-4 mt-4">
          <button type="submit" class="col-2">Calculate</button>
          <!-- <button class="col-3" > -->
          <i class="fa-solid fa-floppy-disk col-2 btn btn-primary p-3 mx-2" title="Save"></i>
          <i class="fa-solid fa-star col-2 favorite-button col-2 btn btn-primary p-3 mx-2" title="Add to Favorite"
            id="com-financial-clc" onclick="toggleFavorite('com-financial-clc', '2D Distance Calculator')"></i>

          <i class="fa-solid fa-print col-2 col-2 btn btn-primary p-3 mx-2" title="Print" id="print-btn"></i>
          <i class="fa-solid fa-share col-2 col-2 btn btn-primary p-3 mx-2" title="Share" id="share-btn"></i>
        </div>
      </form>
      <div id="simpleInterestResult"></div>
    </section>

    <!-- Compound Interest Calculator -->
    <section id="compound-interest">
      <h2>Compound Interest Calculator</h2>
      <form id="compoundInterestForm">
        <label>Principal: <input type="number" id="ciPrincipal" required></label>
        <label>Rate (%): <input type="number" id="ciRate" required></label>
        <label>Time (years): <input type="number" id="ciTime" required></label>
        <label>Compounds per Year: <input type="number" id="ciCompounds" required></label>
        <div class="row mt-2 d-flex align-items-center justify-content-center mt-4 justify-content-center mt-4 mt-4">
          <button type="submit" class="col-2">Calculate</button>
          <!-- <button class="col-3" > -->
          <i class="fa-solid fa-floppy-disk col-2 btn btn-primary p-3 mx-2" title="Save"></i>
          <i class="fa-solid fa-star col-2 favorite-button col-2 btn btn-primary p-3 mx-2" title="Add to Favorite"
            id="compound-financial-clc"
            onclick="toggleFavorite('compound-financial-clc', '2D Distance Calculator')"></i>

          <i class="fa-solid fa-print col-2 col-2 btn btn-primary p-3 mx-2" title="Print" id="print-btn"></i>
          <i class="fa-solid fa-share col-2 col-2 btn btn-primary p-3 mx-2" title="Share" id="share-btn"></i>
        </div>
        <div id="compoundInterestResult"></div>
    </section>

    <!-- Salary Calculator -->
    <section id="salary-calculator" class="container py-5">
      <h2 class="text-center mb-4">Salary Calculator</h2>
      <form id="salaryForm" class="row g-3">
        <!-- Gross Salary -->
        <div class="col-md-4">
          <label for="grossSalary" class="form-label">Gross Salary</label>
          <input type="number" class="form-control" id="grossSalary" placeholder="Enter gross salary" required>
        </div>
        <!-- Deductions -->
        <div class="col-md-4">
          <label for="deductions" class="form-label">Deductions</label>
          <input type="number" class="form-control" id="deductions" placeholder="Enter deductions" required>
        </div>
        <!-- Bonuses -->
        <div class="col-md-4">
          <label for="bonuses" class="form-label">Bonuses</label>
          <input type="number" class="form-control" id="bonuses" placeholder="Enter bonuses" required>
        </div>

        <!-- Buttons -->
        <div class="row mt-2 d-flex align-items-center justify-content-center mt-4 justify-content-center mt-4 mt-4">
          <button type="submit" class="p-3 mx-2 btn btn-primary col-2">Calculate</button>
          <!-- <button class="col-3" > -->
          <i class="fa-solid fa-floppy-disk col-2 btn btn-primary p-3 mx-2" title="Save"></i>
          <i class="fa-solid fa-star col-2 favorite-button col-2 btn btn-primary p-3 mx-2" title="Add to Favorite"
            id="compound-financial-clc"
            onclick="toggleFavorite('compound-financial-clc', '2D Distance Calculator')"></i>

          <i class="fa-solid fa-print col-2 col-2 btn btn-primary p-3 mx-2" title="Print" id="print-btn"></i>
          <i class="fa-solid fa-share col-2 col-2 btn btn-primary p-3 mx-2" title="Share" id="share-btn"></i>
        </div>
      </form>
      <!-- Result Section -->
      <div id="salaryResult" class="alert alert-success mt-4 d-none text-center" role="alert">
        Your calculated salary will appear here.
      </div>
    </section>

    <!-- Currency Conversion -->
    <section id="currency-conversion">
      <h2>Currency Conversion</h2>
      <form id="currencyForm">
        <label>Amount: <input type="number" id="currencyAmount" required></label>
        <label>From Currency: <input type="text" id="fromCurrency" required></label>
        <label>To Currency: <input type="text" id="toCurrency" required></label>
        <div class="row mt-2 d-flex align-items-center justify-content-center mt-4 justify-content-center mt-4 mt-4">

          <button type="submit" class="col-2">Calculate</button>
          <!-- <button class="col-3" > -->
          <i class="fa-solid fa-floppy-disk col-2 btn btn-primary p-3 mx-2" title="Save"></i>
          <i class="fa-solid fa-star col-2 favorite-button col-2 btn btn-primary p-3 mx-2" title="Add to Favorite"
            id="currency-financial-clc"
            onclick="toggleFavorite('currency-financial-clc', '2D Distance Calculator')"></i>

          <i class="fa-solid fa-print col-2 col-2 btn btn-primary p-3 mx-2" title="Print" id="print-btn"></i>
          <i class="fa-solid fa-share col-2 col-2 btn btn-primary p-3 mx-2" title="Share" id="share-btn"></i>
        </div>
      </form>
      <div id="currencyResult"></div>
    </section>

    <!-- Retirement Calculator -->
    <section id="retirement-calculator">
      <h2>Retirement Calculator</h2>
      <form id="retirementForm">
        <label>Current Age: <input type="number" id="retirementAge" required></label>
        <label>Retirement Age: <input type="number" id="retirementTargetAge" required></label>
        <label>Current Savings: <input type="number" id="retirementSavings" required></label>
        <label>Expected Return Rate (%): <input type="number" id="retirementRate" required></label>
        <div class="row mt-2 d-flex align-items-center justify-content-center mt-4 justify-content-center mt-4 mt-4">

          <button type="submit" class="col-2">Calculate</button>
          <!-- <button class="col-3" > -->
          <i class="fa-solid fa-floppy-disk col-2 btn btn-primary p-3 mx-2" title="Save"></i>
          <i class="fa-solid fa-star col-2 favorite-button col-2 btn btn-primary p-3 mx-2" title="Add to Favorite"
            id="retirement-financial-clc"
            onclick="toggleFavorite('retirement-financial-clc', '2D Distance Calculator')"></i>

          <i class="fa-solid fa-print col-2 col-2 btn btn-primary p-3 mx-2" title="Print" id="print-btn"></i>
          <i class="fa-solid fa-share col-2 col-2 btn btn-primary p-3 mx-2" title="Share" id="share-btn"></i>
        </div>
      </form>
      <div id="retirementResult"></div>
    </section>

    <!-- Investment Calculator -->
    <section id="investment-calculator">
      <h2>Investment Calculator</h2>
      <form id="investmentForm">
        <label>Initial Investment: <input type="number" id="initialInvestment" required></label>
        <label>Periodic Contribution: <input type="number" id="periodicContribution" required></label>
        <label>Return Rate (%): <input type="number" id="returnRate" required></label>
        <label>Time Period (years): <input type="number" id="timePeriod" required></label>
        <div
          class="row mt-2 d-flex align-items-center justify-content-center mt-4 justify-content-center mt-4 justify-content-center mt-4">

          <button type="submit" class="col-2">Calculate</button>
          <!-- <button class="col-3" > -->
          <i class="fa-solid fa-floppy-disk col-2 btn btn-primary p-3 mx-2" title="Save"></i>
          <i class="fa-solid fa-star col-2 favorite-button col-2 btn btn-primary p-3 mx-2" title="Add to Favorite"
            id="investment-financial-clc"
            onclick="toggleFavorite('investment-financial-clc', '2D Distance Calculator')"></i>

          <i class="fa-solid fa-print col-2 col-2 btn btn-primary p-3 mx-2" title="Print" id="print-btn"></i>
          <i class="fa-solid fa-share col-2 col-2 btn btn-primary p-3 mx-2" title="Share" id="share-btn"></i>
        </div>
      </form>
      <div id="investmentResult"></div>
    </section>
  </div>



  <!-- Modals -->
  <div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5>Login</h5>
        </div>
        <form action="/login" method="POST">
          <div class="modal-body">
            <input type="text" id="loginUsername" placeholder="Username" name="username" class="form-control mb-3">
            <input type="password" id="loginPassword" placeholder="Password" name="password" class="form-control">
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <input type="submit" class="btn btn-primary" value="Login">
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="signupModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5>Signup</h5>
        </div>
        <form action="/register" method="POST">
          <div class="modal-body">
            <input type="text" name="username" id="signupUsername" placeholder="Username" class="form-control mb-3">
            <input type="email" name="email" id="signupEmail" placeholder="Email" class="form-control mb-3">
            <input type="number" name="mobile" id="signupmob" placeholder="Mobile" class="form-control mb-3">
            <input type="password" name="password" id="signupPassword" placeholder="Password" class="form-control">
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button class="btn btn-primary" type="submit">Signup</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="contactModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5>Contact Us</h5>
        </div>
        <form action="/contact" method="POST">
          <div class="modal-body">
            <input type="text" id="contactName" placeholder="Name" class="form-control mb-3" name="name" required>
            <input type="email" id="contactEmail" placeholder="Email" class="form-control mb-3" name="email" required>
            <textarea id="contactMessage" placeholder="Message" class="form-control" name="message"></textarea>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <input type="submit" class="btn btn-primary" value="Submit">
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modals -->
  <div class="modal fade" id="calculatorModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Calculator</h5>
        </div>
        <div class="modal-body">
          <div id="calculatorContent">
            <!-- Calculator content dynamically loaded via JavaScript -->
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/js/financial-script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>

  <!-- add to save funtion with javascript and localstorage -->
  <script>
    // Function to toggle favorites
    function toggleFavorite(id, name) {
      let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
      const favoriteIndex = favorites.findIndex(item => item.id === id);

      if (favoriteIndex === -1) {
        // Add to favorites
        favorites.push({ id, name });
        localStorage.setItem('favorites', JSON.stringify(favorites));
        alert(`${name} has been added to your favorites!`);
      } else {
        // Remove from favorites
        favorites.splice(favoriteIndex, 1);
        localStorage.setItem('favorites', JSON.stringify(favorites));
        alert(`${name} removed from favorites!`);
      }

      updateFavoriteStyles(); // Update button styles
      displayFavorites(); // Update the favorites list
    }

    // Function to update the styles of all favorite buttons
    function updateFavoriteStyles() {
      const favorites = JSON.parse(localStorage.getItem('favorites')) || [];

      // Iterate through all buttons with the class "favorite-button"
      document.querySelectorAll('.favorite-button').forEach(button => {
        const buttonId = button.id; // Get button ID
        const isFavorite = favorites.some(item => item.id === buttonId);

        // Change color based on favorite status
        button.style.color = isFavorite ? "white" : "white";
        button.style.backgroundColor = isFavorite ? "green" : "";
      });
    }

    // Function to display favorites in a list
    function displayFavorites() {
      const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
      const favoritesList = document.getElementById('favorites');
      favoritesList.innerHTML = '';

      favorites.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item.name;
        favoritesList.appendChild(li);
      });
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', () => {
      updateFavoriteStyles(); // Apply styles to buttons on page load
      displayFavorites(); // Display the favorites list
    });
  </script>

</body>

</html>